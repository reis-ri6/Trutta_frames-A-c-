# Code Classification

Як класифікувати та оцінювати код.

## 1. Цілі
- Визначити тип коду: інфраструктура, backend, CLI, дані тощо.
- Оцінити, чи є це кандидат на канон (`promote_candidate`).
- Привʼязати до артефакту (якщо можливо) через `linked_artefact_id`.

## 2. Категорії коду (`subtype`)
- **snippet** — короткі уривки, Gist, приклади.
- **project** — повні модулі/пакети.
- **infra** — Terraform/K8s/Docker/CI конфіги.
- **app** — конфіги застосунків, CLI, темплейти.

## 3. Критерії рішення
- **promote_candidate** якщо:
  - файл належить до темплейта (`templates/projects/**`, `templates/architecture/**`),
  - містить суттєві схеми/DDL/SQL/JSON-Schema,
  - додає код, який можна інтегрувати або перевикористати.
- **archive** якщо:
  - застарілий, дубльований або неповний фрагмент без контексту.
- **ignore** для службових файлів, лок- та кеш-файлів.

## 4. Що заповнювати
- `detected_language` — визнач за вмістом (yaml, sql, ts, js, py, md тощо).
- `relevance_score` — 0.8–1.0 для ключових шаблонів/DDL; 0.3–0.6 для малих уривків.
- `novelty_score` — вище, якщо додає нові таблиці/endpoint-и/алгоритми.
- `actuality_score` — залежить від дат/версій у файлі; якщо невідомо — 0.6–0.8.

## 5. Після класифікації
- Жодних трансформацій не потрібно; просто онови індекс.
- Якщо файл явно відповідає темплейту, додай `linked_artefact_id` (наприклад, `TEMPLATE-SOSPESO`).
